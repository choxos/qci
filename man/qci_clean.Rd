% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clean.R
\name{qci_clean}
\alias{qci_clean}
\title{Clean and filter GBD data for QCI computation}
\usage{
qci_clean(
  data,
  loc_types = NULL,
  keep_types = "Country",
  age_categories = "Age-standardized",
  exclude_location_ids = 533L
)
}
\arguments{
\item{data}{A data.frame or data.table of raw GBD data (output of
\code{\link[=qci_load]{qci_load()}}).}

\item{loc_types}{A data.frame of location metadata. If \code{NULL}, uses the
bundled \link{location_type} dataset.}

\item{keep_types}{Character vector of location types to retain.
Default \code{"Country"}. Use \code{NULL} to skip location type filtering.}

\item{age_categories}{Character vector of age groups to include.
Default \code{"Age-standardized"}.}

\item{exclude_location_ids}{Integer vector of location_ids to exclude.
Default \code{533}.}
}
\value{
A list with two data.table elements:
\describe{
\item{wide_rate}{Wide-format data for Rate metric, used for the
final merged output.}
\item{wide_number}{Wide-format data used for ratio/PCA computation.
Uses Rate data (ratios of rates equal ratios of numbers).}
}
Each has columns like \code{val_Deaths}, \code{val_Incidence}, \code{upper_Deaths},
\code{lower_Deaths}, etc.
}
\description{
Performs the standard data preparation steps:
\enumerate{
\item Remove specified location IDs (e.g., 533 for Melanesia aggregate)
\item Standardize measure names (shorten verbose GBD names)
\item Filter to specified countries using location_type metadata
\item Filter to specified age categories
\item Filter to Rate metric and reshape to wide format
}
}
\examples{
data(sample_gbd)
cleaned <- qci_clean(sample_gbd)
names(cleaned)
}
